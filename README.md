# K8s Exploration

A comprehensive hands-on learning project for Kubernetes (EKS) and Infrastructure as Code using Pulumi.

---

> [!NOTE]
> **ü§ñ AI-Generated Learning Documentation**
>
> All documentation in this project was generated by Claude (Anthropic AI) as an interactive teaching tool. The author learned Kubernetes, EKS, Pulumi, and DevOps practices through hands-on exploration while Claude documented the journey, explained concepts, and created comprehensive guides. This project demonstrates AI-assisted learning and documentation generation in the cloud-native ecosystem.

---

## üèóÔ∏è What We're Building

This project demonstrates a **decoupled multi-cluster architecture** with different provisioning and deployment strategies.

> **Note on Project Status:** This is an active learning project. "Planned" items indicate future experiments that build on current working implementations.

### Clusters (Infrastructure Layer)

| Cluster | Provisioning | VPC CIDR | Status | Purpose |
|---------|--------------|----------|--------|---------|
| **Trantor** | Manual (eksctl) | 10.0.0.0/16 | ‚úÖ Active | Learn manual cluster creation |
| **Terminus** | IaC (Pulumi) | 10.2.0.0/16 | ‚úÖ Active | Learn Infrastructure as Code |

### Services (Application Layer)

| Service | Cluster | Status | Configuration | CD Strategy |
|---------|---------|--------|---------------|-------------|
| **Dawn** | Trantor | ‚úÖ Deployed | YAML (kubectl) | GitHub Actions (push-based) |
| **Day** | Trantor | ‚úÖ Deployed | IaC (Pulumi) | GitHub Actions (push-based) |
| **Dusk** | Terminus | üìã Planned | YAML (kubectl) | ArgoCD (pull-based) |

**Key Learning:** Clusters are infrastructure, services are applications. This decoupling demonstrates real-world patterns where multiple services share cluster infrastructure with different configuration approaches (YAML vs IaC) and CD strategies (push-based via GitHub Actions vs pull-based via ArgoCD).

---

## üìö Documentation

All documentation has been moved to the **[docs/](docs/)** directory for better organization.

**Start here:** [docs/README.md](docs/README.md) - Complete documentation index

### Quick Links

- **Getting Started:** [docs/01-getting-started/overview.md](docs/01-getting-started/overview.md)
- **First Deployment:** [docs/01-getting-started/first-deployment.md](docs/01-getting-started/first-deployment.md)
- **Pulumi Setup:** [docs/02-infrastructure-as-code/pulumi-setup.md](docs/02-infrastructure-as-code/pulumi-setup.md)
- **Application as Code:** [docs/03-application-management/application-as-code.md](docs/03-application-management/application-as-code.md)

## üèóÔ∏è Project Structure

```
k8s-exploration/
‚îú‚îÄ‚îÄ docs/                           # All documentation (reorganized into 7 sections)
‚îÇ   ‚îú‚îÄ‚îÄ README.md                   # Documentation index & navigation
‚îÇ   ‚îú‚îÄ‚îÄ 01-getting-started/         # Foundation & first deployment
‚îÇ   ‚îú‚îÄ‚îÄ 02-infrastructure-as-code/  # Pulumi & IaC
‚îÇ   ‚îú‚îÄ‚îÄ 03-application-management/  # Managing apps on K8s
‚îÇ   ‚îú‚îÄ‚îÄ 04-cicd-automation/         # GitHub Actions CI/CD
‚îÇ   ‚îú‚îÄ‚îÄ 05-kubernetes-deep-dives/   # Advanced K8s concepts
‚îÇ   ‚îú‚îÄ‚îÄ 06-troubleshooting/         # Problem-solving guides
‚îÇ   ‚îî‚îÄ‚îÄ 07-next-steps/              # Production guidance
‚îÇ
‚îú‚îÄ‚îÄ foundation/                     # Main experiment directory
‚îÇ   ‚îú‚îÄ‚îÄ provisioning/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pulumi/                 # IaC provisioning (Terminus cluster)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manual/                 # Manual provisioning (Trantor cluster)
‚îÇ   ‚îú‚îÄ‚îÄ gitops/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manual_deploy/          # Manual kubectl deployments + manifests
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deploy-dawn.sh      # Deploy Dawn service script
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dawn/, day/, dusk/  # Kubernetes YAML manifests (prod/rc)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delete-service-images.sh
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pulumi_deploy/          # Pulumi IaC deployments (Day)
‚îÇ   ‚îú‚îÄ‚îÄ services/                   # Application source code (Dawn, Day, Dusk)
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îî‚îÄ‚îÄ explore/                # Interactive learning scripts
‚îÇ
‚îî‚îÄ‚îÄ .github/workflows/              # CI/CD pipelines
```

## üöÄ Quick Start

### Option 1: Manual Provisioning (Recommended for Learning)

**Learn by doing each step manually**

```bash
# See docs/01-getting-started/first-deployment.md for full guide

# 1. Create Trantor cluster (manual)
cd foundation/provisioning/manual
./create-trantor-cluster.sh us-east-1

# 2. Install ALB controller
./install-alb-controller-trantor.sh us-east-1

# 3. Deploy Dawn service (manual deployment)
cd ../../gitops/manual_deploy
./deploy-dawn.sh trantor us-east-1
```

**Time:** ~40 minutes | **Best for:** Understanding each component

### Option 2: Infrastructure as Code (IaC with Pulumi)

**Declare infrastructure, let Pulumi handle it**

```bash
# See docs/02-infrastructure-as-code/pulumi-setup.md for full guide

# Create Terminus cluster with IaC
cd foundation/provisioning/pulumi
pulumi login
pulumi stack select production
pulumi up

# Note: This creates the Terminus cluster infrastructure.
# Dusk service deployment on Terminus is planned but not yet implemented.
# For now, use Option 1 to deploy and interact with a working service.
```

**Time:** ~30 minutes | **Best for:** Learning automation and repeatability
**Note:** Creates cluster infrastructure; service deployment coming in future iterations

## üéØ What You'll Learn

Through hands-on experimentation with this project, you'll gain practical experience in:

- ‚úÖ **Kubernetes Fundamentals** - Deployments, Services, ConfigMaps, HPA, and how they work together
- ‚úÖ **AWS EKS** - Managed Kubernetes on AWS with real cluster provisioning
- ‚úÖ **Infrastructure as Code** - Pulumi for declaring and managing infrastructure
- ‚úÖ **Application Management** - Two approaches: YAML manifests and IaC (Pulumi)
- ‚úÖ **CI/CD** - GitHub Actions for automated builds and deployments

> **New to Kubernetes?** Start with the [recommended learning path](#-learning-path) below to build knowledge progressively.

## üìñ Key Concepts Explored

### Kubernetes Deep Dives
- [Deployment Hierarchy](docs/05-kubernetes-deep-dives/deployment-hierarchy.md) - How Deployments ‚Üí ReplicaSets ‚Üí Pods
- [ConfigMap Relationships](docs/05-kubernetes-deep-dives/configmap-relationships.md) - Managing configuration
- [Rolling Updates](docs/05-kubernetes-deep-dives/rolling-updates.md) - Zero-downtime deployments

### Infrastructure as Code
- [Two-Tier Architecture](docs/02-infrastructure-as-code/two-tier-architecture.md) - What to manage where
- [Application as Code](docs/03-application-management/application-as-code.md) - Python instead of YAML

## üõ†Ô∏è Interactive Scripts

Explore Kubernetes concepts hands-on:
```bash
foundation/scripts/explore/explore-deployment-hierarchy.sh      # Visualize Deployment ‚Üí Pod relationship
foundation/scripts/explore/explore-configmap-relationships.sh   # See ConfigMap to Pod connections
foundation/scripts/explore/explore-rolling-updates.sh           # Watch rolling updates in action
```

## üì¶ What's Included

### Architecture Highlights

- **2 EKS Clusters** - Compare manual vs IaC provisioning
- **3 Services** - Demonstrate different deployment strategies
- **Decoupled Design** - Services independent of cluster provisioning
- **Multiple Deployment Patterns** - Manual kubectl, Pulumi IaC, ArgoCD GitOps

### Infrastructure
- VPC with public/private subnets
- EKS clusters with OIDC
- Managed node groups (spot instances)
- AWS ALB Ingress Controller
- HPA (HorizontalPodAutoscaler) with metrics-server

### CI/CD
- GitHub Actions workflows
- Automated builds and deployments
- Pulumi preview on PRs

## üéì Learning Path

**Recommended progression for beginners:**

| Step | Topic | What You'll Do | Time |
|------|-------|----------------|------|
| 1 | [Project Overview](docs/01-getting-started/overview.md) | Understand the architecture and goals | 10 min |
| 2 | [Kubernetes 101](docs/01-getting-started/kubernetes-101.md) | Learn core K8s concepts | 20 min |
| 3 | [Your First Deployment](docs/01-getting-started/first-deployment.md) | Deploy Dawn service to Trantor cluster | 40 min |
| 4 | [Interactive Scripts](foundation/scripts/explore/) | Explore deployments, ConfigMaps, rolling updates | 30 min |
| 5 | [Deployment Hierarchy](docs/05-kubernetes-deep-dives/deployment-hierarchy.md) | Understand Deployments ‚Üí ReplicaSets ‚Üí Pods | 15 min |
| 6 | [Infrastructure as Code](docs/02-infrastructure-as-code/why-infrastructure-as-code.md) | Learn why and how to use IaC | 20 min |
| 7 | [CI/CD Automation](docs/04-cicd-automation/github-actions-setup.md) | Automate builds and deployments | 30 min |

**Total estimated time:** ~2.5 hours hands-on learning

**Alternative paths available:** See [docs/README.md](docs/README.md) for 4 different learning paths based on your background and goals!

## ü§ù Contributing

This is a personal learning project. Feel free to fork and adapt for your own learning journey!

## üìù License

This project is for educational purposes.

---

**Ready to start?** Head to [docs/README.md](docs/README.md) for the complete documentation index.
